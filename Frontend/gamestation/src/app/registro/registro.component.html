

<div class="main-wrapper d-flex flex-column min-vh-100">
  <app-header></app-header>
  <div class="flex-grow-1 d-flex justify-content-center align-items-center bg-light">
    <div class="card card-electric shadow-sm p-4" style="max-width: 500px; width: 100%;">
      <h3 class="text-center mb-4" style="color: var(--electric-blue);">Crear Cuenta</h3>
      
      <!-- Formulario centrado y con espaciado -->
      <form 
        [formGroup]="registroForm" 
        (ngSubmit)="onSubmit()" 
        class="d-flex flex-column gap-3"
      >
        <!-- Nombre y Apellidos en fila responsiva -->
        <div class="row g-3">
          <div class="col-md-6">
            <label for="nombre" class="form-label">Nombre</label>
            <input
              type="text"
              id="nombre"
              class="form-control"
              formControlName="nombre"
              placeholder="Tu nombre"
            />
            <div 
              *ngIf="registroForm.get('nombre')?.touched && registroForm.get('nombre')?.invalid" 
              class="text-danger small mt-1"
            >
              <div *ngIf="registroForm.get('nombre')?.errors?.['required']">
                El nombre es obligatorio.
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <label for="apellidos" class="form-label">Apellidos</label>
            <input
              type="text"
              id="apellidos"
              class="form-control"
              formControlName="apellidos"
              placeholder="Tus apellidos"
            />
            <div 
              *ngIf="registroForm.get('apellidos')?.touched && registroForm.get('apellidos')?.invalid" 
              class="text-danger small mt-1"
            >
              <div *ngIf="registroForm.get('apellidos')?.errors?.['required']">
                Los apellidos son obligatorios.
              </div>
            </div>
          </div>
        </div>

        <!-- Email -->
        <div class="d-flex flex-column">
          <label for="email" class="form-label">Correo electrónico</label>
          <input
            type="email"
            id="email"
            class="form-control"
            formControlName="email"
            placeholder="tucorreo@ejemplo.com"
          />
          <div 
            *ngIf="registroForm.get('email')?.touched && registroForm.get('email')?.invalid" 
            class="text-danger small mt-1"
          >
            <div *ngIf="registroForm.get('email')?.errors?.['required']">
              El correo es obligatorio.
            </div>
            <div *ngIf="registroForm.get('email')?.errors?.['email']">
              Introduce un correo válido.
            </div>
          </div>
        </div>

        <!-- Contraseña -->
        <div class="d-flex flex-column">
          <label for="password" class="form-label">Contraseña</label>
          <input
            type="password"
            id="password"
            class="form-control"
            formControlName="password"
            placeholder="Mínimo 6 caracteres"
          />
          <div 
            *ngIf="registroForm.get('password')?.touched && registroForm.get('password')?.invalid" 
            class="text-danger small mt-1"
          >
            <div *ngIf="registroForm.get('password')?.errors?.['required']">
              La contraseña es obligatoria.
            </div>
            <div *ngIf="registroForm.get('password')?.errors?.['minlength']">
              Debe tener al menos 
              {{ registroForm.get('password')?.errors?.['minlength'].requiredLength }} caracteres.
            </div>
          </div>
        </div>

        <!-- Confirmar contraseña -->
        <div class="d-flex flex-column">
          <label for="confirmPassword" class="form-label">Confirmar contraseña</label>
          <input
            type="password"
            id="confirmPassword"
            class="form-control"
            formControlName="confirmPassword"
            placeholder="Repítela aquí"
          />
          <div 
            *ngIf="registroForm.get('confirmPassword')?.touched && registroForm.get('confirmPassword')?.invalid" 
            class="text-danger small mt-1"
          >
            <div *ngIf="registroForm.get('confirmPassword')?.errors?.['required']">
              Requiere confirmación.
            </div>
            <div 
              *ngIf="registroForm.hasError('passwordMismatch') && registroForm.get('confirmPassword')?.touched"
            >
              Las contraseñas no coinciden.
            </div>
          </div>
        </div>

        <!-- Botón de envío -->
        <button 
          type="submit" 
          class="btn btn-electric w-100 mt-2" 
          [disabled]="registroForm.invalid"
        >
          Registrarse
        </button>
      </form>

      <p class="text-center mt-3">
        ¿Ya tienes cuenta?
        <a routerLink="/login" style="color: var(--electric-blue);">
          Inicia sesión aquí
        </a>
      </p>
    </div>
  </div>
  <app-footer></app-footer>
</div>
