<nav class="navbar navbar-expand-lg navbar-light bg-light px-4 py-3" style="min-height: 72px;">
  <a class="navbar-brand fw-bold fs-3" routerLink="/">GameStation</a>
  <button
    class="navbar-toggler"
    type="button"
    data-bs-toggle="collapse"
    data-bs-target="#mainNavbar"
    aria-controls="mainNavbar"
    aria-expanded="false"
    aria-label="Toggle navigation"
  >
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="mainNavbar">
    <ul class="navbar-nav w-100 mb-2 mb-lg-0 flex-lg-row flex-column">
      <li class="nav-item border-bottom py-2">
        <a class="nav-link" routerLink="/">Home</a>
      </li>
      <li class="nav-item border-bottom py-2">
        <a class="nav-link" routerLink="/analisis">Análisis</a>
      </li>
      <li class="nav-item border-bottom py-2">
        <a class="nav-link" routerLink="/articulos">Artículos</a>
      </li>
      <li class="nav-item border-bottom py-2">
        <a class="nav-link" routerLink="/noticias">Noticias</a>
      </li>
    </ul>
    <div class="d-flex flex-column flex-lg-row align-items-stretch gap-2 ms-lg-auto w-100 w-lg-auto">
      <span class="navbar-text me-lg-3 mb-2 mb-lg-0">{{ username }}</span>
      <ng-container *ngIf="isAnalista">
        <button class="btn btn-primary me-lg-2 mb-2 mb-lg-0" routerLink="/post/crear">
          <i class="bi bi-plus-circle me-1"></i>
          Crear Post
        </button>
      </ng-container>
      <button
        *ngIf="isAnalista && analistaId"
        class="btn btn-outline-secondary d-flex align-items-center ms-lg-2 mb-2 mb-lg-0"
        [routerLink]="['/analista-perfil', analistaId]">
        <i class="bi bi-person-circle me-2"></i>
        Perfil
      </button>
      <button
        *ngIf="!isAnalista && userId"
        class="btn btn-outline-secondary d-flex align-items-center ms-lg-2 mb-2 mb-lg-0"
        [routerLink]="['/usuario-perfil', userId]">
        <i class="bi bi-person-circle me-2"></i>
        Perfil
      </button>
      <button class="btn btn-danger d-flex align-items-center ms-lg-2 mb-2 mb-lg-0" (click)="logout()">
        <i class="bi bi-box-arrow-right me-2"></i>
        Cerrar sesión
      </button>
      <button
        class="btn btn-outline-dark d-flex align-items-center ms-lg-2"
        type="button"
        (click)="toggleDarkMode()"
        [attr.aria-pressed]="isDarkMode"
      >
        <i class="bi" [ngClass]="isDarkMode ? 'bi-moon-fill' : 'bi-moon'"></i>
        <span class="ms-1">{{ isDarkMode ? 'Claro' : 'Oscuro' }}</span>
      </button>
    </div>
  </div>
</nav>